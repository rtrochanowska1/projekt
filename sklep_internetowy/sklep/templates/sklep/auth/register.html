{% extends "sklep/base.html" %}
{% block title %}Rejestracja{% endblock %}

{% block content %}
<style>
  .auth-wrap { max-width: 520px; margin: 30px auto; }
  .auth-card { background:#fff; border:1px solid #e0e0e0; border-radius: 12px; padding: 18px; box-shadow: 2px 2px 10px rgba(0,0,0,0.05); }
  .auth-card h2 { margin: 0 0 12px; color:#4b3832; text-align:center; }
  label { display:block; margin-top: 12px; font-weight: 600; color:#333; }
  input { width:100%; padding:10px; margin-top: 6px; border:1px solid #ddd; border-radius: 10px; }
  .btn { background-color: #4b3832; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; width: 100%; margin-top: 16px; }
  .btn:hover { opacity: .9; }
  .errors { background:#ffecec; border:1px solid #ffbcbc; color:#7a0000; padding:10px; border-radius:10px; margin: 10px 0; }
  .muted { color:#777; margin-top: 12px; text-align:center; }
  .muted a { color:#3498db; text-decoration:none; }
  .muted a:hover { text-decoration: underline; }
</style>

<div class="auth-wrap">
  <div class="auth-card">
    <h2>Zarejestruj się</h2>

    {% if errors %}
      <div class="errors">
        <strong>Popraw błędy:</strong>
        <ul>
          {% for field, msgs in errors.items %}
            <li>{{ field }}: {% for m in msgs %}{{ m }}{% if not forloop.last %}, {% endif %}{% endfor %}</li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    <form method="post">
      {% csrf_token %}

      <label>Nazwa użytkownika</label>
      <input name="username" required value="{{ request.POST.username }}">

      <label>Email</label>
      <input type="email" name="email" value="{{ request.POST.email }}">

      <label>Imię</label>
      <input name="first_name" value="{{ request.POST.first_name }}">

      <label>Nazwisko</label>
      <input name="last_name" value="{{ request.POST.last_name }}">

      <label>Hasło</label>
      <input type="password" name="password" required>

      <button type="submit" class="btn">Utwórz konto</button>
    </form>

    <p class="muted">
        Masz już konto? <a href="{% url 'login-html' %}">Zaloguj się</a>
    </p>
  </div>
</div>
{% endblock %}